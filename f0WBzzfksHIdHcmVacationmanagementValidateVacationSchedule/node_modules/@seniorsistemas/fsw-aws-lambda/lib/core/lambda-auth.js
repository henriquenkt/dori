const axios = require('axios');

async function authenticate(accessKey, secretKey, eventInfo)  {
    let auth = await axios.post(eventInfo.authPlatformUrl, { accessKey: accessKey, secret: secretKey, tenantName: eventInfo.tenantName});
    auth = JSON.parse(auth.data.jsonToken);
    return `${auth.token_type} ${auth.access_token}`;
}

module.exports = {
    authenticate
};
